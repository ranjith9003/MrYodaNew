[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< MrYodaAPINew:MrYodaAPINew >----------------------
[INFO] Building MrYodaAPINew 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ MrYodaAPINew ---
[INFO] skip non existing resourceDirectory C:\Users\RANJITH\Pictures\MrYodaAPINew\src\main\resources
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ MrYodaAPINew ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 13 source files with javac [debug release 11] to target\classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ MrYodaAPINew ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ MrYodaAPINew ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 12 source files with javac [debug release 11] to target\test-classes
[WARNING] /C:/Users/RANJITH/Pictures/MrYodaAPINew/src/test/java/com/mryoda/diagnostics/api/tests/AddToCartAPITest.java:[111,85] unchecked cast
  required: java.util.List<java.util.Map<java.lang.String,java.lang.Object>>
  found:    java.lang.Object
[INFO] 
[INFO] --- surefire:3.1.2:test (default-test) @ MrYodaAPINew ---
[INFO] Using auto detected provider org.apache.maven.surefire.testng.TestNGProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running TestSuite
...
... TestNG 7.8.0 by CΘdric Beust (cedric@beust.com)
...


????????????????????????????????????????????????????????????
?         NON-MEMBER LOGIN TEST (No Membership)            ?
????????????????????????????????????????????????????????????

==================================================
========== TOKEN GENERATION START (NON_MEMBER) ==========
==================================================
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/otps/getOtp
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "country_code": "+91",
    "mobile": "9666666665"
}
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/otps/getOtp
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "country_code": "+91",
    "mobile": "9666666665",
    "otp": "123456"
}
Token generated for NON_MEMBER: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
? NON-MEMBER LOGIN SUCCESS
   Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
   Mobile: 8220220227 (NOT a paid member)
   Stored in: RequestContext.getNonMemberToken()
   First Name: Ranjith
   Last Name: kumar
   User ID: db682abb-31d1-44df-bf19-557b003a5c69

===== LOCATION API ù NON-MEMBER (8220220227 - NOT a paid member) =====
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/tests/getlocations
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

? Total Locations Found: 6
   Location: Ameerpet (HQ) | City: Hyderabad | State: Telangana | Status: ACTIVE | ID: 64870066842708a0d5ae6c77
   ? Coordinates: Lat=17.4358447, Long=78.452737
? Stored: Ameerpet (HQ) ? ID: 64870066842708a0d5ae6c77 | City: Hyderabad | State: Telangana | Coordinates: (17.4358447, 78.452737)
   Location: Guntur | City: Guntur | State: Andhra Pradesh | Status: ACTIVE | ID: 64870066842708a0d5ae6c74
   ? Coordinates: Lat=16.2992859, Long=80.4515523
? Stored: Guntur ? ID: 64870066842708a0d5ae6c74 | City: Guntur | State: Andhra Pradesh | Coordinates: (16.2992859, 80.4515523)
   Location: Khammam | City: Khammam | State: Telangana | Status: ACTIVE | ID: 68ecce703d573db19b650c76
   ? Coordinates: Lat=17.248727, Long=80.1668882
? Stored: Khammam ? ID: 68ecce703d573db19b650c76 | City: Khammam | State: Telangana | Coordinates: (17.248727, 80.1668882)
   Location: Madhapur | City: Hyderabad | State: Telangana | Status: ACTIVE | ID: 676a5fa720093d2807af03a5
   ? Coordinates: Lat=17.4406327, Long=78.3900194
? Stored: Madhapur ? ID: 676a5fa720093d2807af03a5 | City: Hyderabad | State: Telangana | Coordinates: (17.4406327, 78.3900194)
   Location: Tirupati | City: Tirupati | State: Andhra Pradesh | Status: ACTIVE | ID: 64870066842708a0d5ae6c75
   ? Coordinates: Lat=13.6350832, Long=79.42642049999999
? Stored: Tirupati ? ID: 64870066842708a0d5ae6c75 | City: Tirupati | State: Andhra Pradesh | Coordinates: (13.6350832, 79.42642049999999)
   Location: Visakhapatnam | City: Visakhapatnam | State: Andhra Pradesh | Status: ACTIVE | ID: 67346a7655a51ec8ef586bb1
   ? Coordinates: Lat=17.7087874, Long=83.3106882
? Stored: Visakhapatnam ? ID: 67346a7655a51ec8ef586bb1 | City: Visakhapatnam | State: Andhra Pradesh | Coordinates: (17.7087874, 83.3106882)

? Critical Location 'Madhapur' found and stored: 676a5fa720093d2807af03a5
   ? Madhapur Coordinates: Lat=17.4406327, Long=78.3900194
   This location will be used in GlobalSearch and AddToCart APIs

? Locations stored for reuse in next APIs

Running Global Search as part of NON-MEMBER flow...

????????????????????????????????????????????????????????????
?        GLOBAL SEARCH API TEST - COMPLETE FLOW           ?
????????????????????????????????????????????????????????????

? FETCHING BRANDS...
Request method:	GET
Request URI:	https://dev-api-yodamembership.yodaprojects.com/brand/getAllBrands
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>
   ?? Failed to fetch brands: 404
   ?? Using HARDCODED Brand ID for 'Diagnostics'
? DEBUG ? STORED LOCATIONS: {Tirupati=64870066842708a0d5ae6c75, Visakhapatnam=67346a7655a51ec8ef586bb1, Khammam=68ecce703d573db19b650c76, Madhapur=676a5fa720093d2807af03a5, Ameerpet (HQ)=64870066842708a0d5ae6c77, Guntur=64870066842708a0d5ae6c74}

? STEP 1: Validating Location from Previous API (LocationAPI)
   ? Location 'Madhapur' validated from LocationAPI: 676a5fa720093d2807af03a5
   ? Confirmed: Using correct Madhapur location ID (676a5fa720093d2807af03a5)
   ? This location will be used for Global Search

??  IMPORTANT: We are NOT searching for CBC!
   If CBC appears in results, it's a bug in the search logic.

? Tests to Search: Blood Coagulation, Bone Profile -1
? Total Tests: 2

? SEARCHING FOR 2 TESTS
? LOCATION: Madhapur ? 676a5fa720093d2807af03a5

? Searching: Blood Coagulation

   ? Attempt 1/5
   Search String: "Blood Coagulation"
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/tests/adminTests
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "limit": 50,
    "location": "676a5fa720093d2807af03a5",
    "page": 1,
    "sort_by": "Type",
    "search_string": "Blood Coagulation"
}
   ? API returned 1 results

   ? DEBUG - ALL RESULTS for search "Blood Coagulation":
      Result 1:
         test_name: Blood Coagulation
         _id: 675921110856fe1e1e992ec9
         test_id: GEN110
         slug: blood-coagulation
         Type: diagnostics

   ? EXACT MATCH FOUND: Blood Coagulation
      Test ID: GEN110
      Product ID: 675921110856fe1e1e992ec9
      ? SUCCESS with search variation: "Blood Coagulation"

? Searching: Bone Profile -1

   ? Attempt 1/6
   Search String: "Bone Profile -1"
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/tests/adminTests
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "limit": 50,
    "location": "676a5fa720093d2807af03a5",
    "page": 1,
    "sort_by": "Type",
    "search_string": "Bone Profile -1"
}
   ? API returned 1 results

   ? DEBUG - ALL RESULTS for search "Bone Profile -1":
      Result 1:
         test_name: null
         _id: 675921b2ba6f16b8c0d7bed1
         test_id: null
         slug: bone-profile-1
         Type: diagnostics

   ??  test_name is NULL for ID: 675921b2ba6f16b8c0d7bed1
      Checking alternative fields...
      ??  Constructed name from slug: Bone Profile 1
      ? Found alternative name: Bone Profile 1
   ? EXACT MATCH FOUND: Bone Profile 1
      Test ID: null
      Product ID: 675921b2ba6f16b8c0d7bed1
      ? SUCCESS with search variation: "Bone Profile -1"
      ??  Matched by removing dash: "Bone Profile -1" ? "Bone Profile 1"

? ========================================
   TOTAL TESTS FOUND: 2 / 2
   ========================================
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/tests/adminTests
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "limit": 50,
    "location": "676a5fa720093d2807af03a5",
    "page": 1,
    "sort_by": "Type",
    "search_string": "Bone Profile -1"
}

? EXTRACTING & STORING TEST DETAILS
   Tests already found: 2

? MATCHED & STORED TEST: Blood Coagulation
   Test ID       : GEN110
   Product ID    : 675921110856fe1e1e992ec9
   Price         : ?25000
   Original Price: ?25000
   Type          : diagnostics
   Status        : ACTIVE
   Home Collection: ? NOT AVAILABLE

   ??  Note: Searching for "Bone Profile -1", found as "Bone Profile 1"

   ??  Note: Searching for "Bone Profile -1", found as "Bone Profile 1"
   ? Stored under actual name only: "Bone Profile 1" (prevents duplicate cart entries)

? MATCHED & STORED TEST: Bone Profile 1
   Test ID       : null
   Product ID    : 675921b2ba6f16b8c0d7bed1
   Price         : ?650
   Original Price: ?650
   Type          : diagnostics
   Status        : ACTIVE
   Home Collection: ? AVAILABLE

? All requested tests extracted and stored successfully!

? VALIDATING: Checking we only got the tests we searched for...
   ? Expected test: Blood Coagulation
   ? Expected test: Bone Profile 1

? ANALYZING HOME COLLECTION STATUS FOR ALL TESTS
   ? Blood Coagulation - Home Collection: NOT AVAILABLE (type='lab')
   ? Bone Profile 1 - Home Collection: AVAILABLE (type='home')

? HOME COLLECTION ANALYSIS:
   Total tests found: 2
   Tests WITH home collection: 1
   Tests WITHOUT home collection: 1

? Validated stored test: Blood Coagulation
   Test ID: GEN110
   Product ID: 675921110856fe1e1e992ec9

? GLOBAL SEARCH COMPLETE (Stored 2 tests)

--- AddToCart For Non-Member ---

? CUSTOM PAYLOAD BUILDER for db682abb-31d1-44df-bf19-557b003a5c69
      ??  Skipped test (No Home Collection): Blood Coagulation
      ? Added test to payload: Bone Profile 1 (Type: home)
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/carts/v2/addCart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "user_id": "db682abb-31d1-44df-bf19-557b003a5c69",
    "lab_location_id": "676a5fa720093d2807af03a5",
    "product_details": [
        {
            "quantity": 1,
            "product_id": "675921b2ba6f16b8c0d7bed1",
            "type": "home",
            "location_id": "676a5fa720093d2807af03a5",
            "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
            "family_member_id": [
                "db682abb-31d1-44df-bf19-557b003a5c69"
            ]
        }
    ],
    "order_type": "home"
}
   ? Cart Data Stored for NON_MEMBER (GUID: bb89d801-01f3-4a57-9df0-a1be84bb12cd)

????????????????????????????????????????????????????????????
?     GET CART BY ID API ù EXISTING MEMBER                 ?
????????????????????????????????????????????????????????????

? GET CART BY ID REQUEST:
   User ID: db682abb-31d1-44df-bf19-557b003a5c69
   Order Type: home
   Location: Madhapur (676a5fa720093d2807af03a5)
Request method:	GET
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/carts/v2/getCartById/db682abb-31d1-44df-bf19-557b003a5c69?location=676a5fa720093d2807af03a5&order_type=home
Proxy:			<none>
Request params:	<none>
Query params:	location=676a5fa720093d2807af03a5
				order_type=home
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

??????????????????????????????????????????????????????????????
?     COMPREHENSIVE GET CART VALIDATION - NON_MEMBER
??????????????????????????????????????????????????????????????

? ====== COMPLETE API RESPONSE (Pretty Print) ======
{
    "status": 200,
    "success": true,
    "msg": "Cart details fetched successfully",
    "total_amount": 0,
    "data": {
        "id": 490,
        "guid": "bb89d801-01f3-4a57-9df0-a1be84bb12cd",
        "user_id": "db682abb-31d1-44df-bf19-557b003a5c69",
        "_user_id": null,
        "product_details": [
            {
                "product_id": "675921b2ba6f16b8c0d7bed1",
                "quantity": 1,
                "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
                "family_member_id": [
                    {
                        "guid": "db682abb-31d1-44df-bf19-557b003a5c69",
                        "family_member_name": "Self",
                        "relation": ""
                    }
                ],
                "location_id": "676a5fa720093d2807af03a5",
                "isTestAvailable": true,
                "home_collection": "AVAILABLE",
                "_id": "675921b2ba6f16b8c0d7bed1",
                "package_id": "675921b2ba6f16b8c0d7bed1",
                "package_name": "Bone Profile -1",
                "components": [
                    "CALCIUM - TOTAL",
                    "ALP(ALKALINE PHOSPHATASE)",
                    "PHOSPHORUS SERUM"
                ],
                "turn_around_time": null,
                "specimen": "3 mL (2 mL min.) Serum from 1 SST. Ship refrigerated or frozen.",
                "slug": "bone-profile-1",
                "tests_included": [
                    "CALCIUM - TOTAL",
                    "ALP(ALKALINE PHOSPHATASE)",
                    "PHOSPHORUS SERUM"
                ],
                "stability": [
                    "ROOM = 2 HRS",
                    "REFRIGERATED = 48 HRS"
                ],
                "comment": "",
                "usage": "This panel can help to investigate common bone and joint disorders Arthritis can be of various types mainly Rheumatoid arthritis, Osteoarthritis, Autoimmune disorders, Gout & Psoriatic arthritis.The laboratory testing helps to establish diagnosis and document the pathological process",
                "locations": [
                    "64870066842708a0d5ae6c77",
                    "64870066842708a0d5ae6c74",
                    "676a5fa720093d2807af03a5",
                    "64870066842708a0d5ae6c75",
                    "67346a7655a51ec8ef586bb1",
                    "6781186b658e894bfeb119e9",
                    "68ecce703d573db19b650c76",
                    "68f78da1a5274a337d2d10f8"
                ],
                "department": [
                    "675697b0262d1460f8d55d3b"
                ],
                "doctor_speciality": [
                    "675697b0262d1460f8d55e5e",
                    "675697b0262d1460f8d55e56",
                    "675697b0262d1460f8d55e53"
                ],
                "test_method": [
                    "675697b0262d1460f8d55df2"
                ],
                "organ": [
                    
                ],
                "doctorsSpeciality": [
                    "675697b0262d1460f8d55e5e",
                    "675697b0262d1460f8d55e56",
                    "675697b0262d1460f8d55e53"
                ],
                "diseases": [
                    "675697b0262d1460f8d55e7e"
                ],
                "price": 650,
                "original_price": 650,
                "cpt_comment": "",
                "cpt_price": 0,
                "actual_cprt_price": 0,
                "b2b_price": 180,
                "popular": true,
                "speciality_tests": false,
                "frequently_booked": false,
                "pre_test_information": "No special preparation required",
                "business_type": [
                    "B2C"
                ],
                "status": "ACTIVE",
                "createdAt": "2024-12-11T05:22:58.332Z",
                "updatedAt": "2025-11-14T08:50:13.051Z",
                "gender": [
                    "MALE",
                    "FEMALE"
                ],
                "description": "",
                "full_body_checkup": false,
                "tests_id_included": [
                    "675921110856fe1e1e992c1d",
                    "675921110856fe1e1e992bd7",
                    "675921110856fe1e1e992ce2"
                ],
                "frequently_asked_questions": [
                    
                ],
                "other_names": [
                    
                ],
                "result_interpretation": "",
                "search_keywords": [
                    
                ],
                "index": 3,
                "method": [
                    "675697b0262d1460f8d55df2"
                ],
                "product_code": "YDPK014",
                "membership_price": 5000,
                "membership_special_price": 999,
                "membership_discount": 10,
                "discount_rate": 585,
                "discount_percentage": 0,
                "rewards_percentage": "33",
                "membershipPrice": 650,
                "isTestPartOfPackage": false,
                "packageIds": [
                    
                ],
                "isActive": true,
                "is_pricing_applicable": true
            }
        ],
        "screen_reason": "lab_location_screen",
        "conversion_status": "no",
        "reason_for_drop_order": null,
        "final_cart_status": "open",
        "reason": null,
        "created_at": "2025-12-01T14:08:26.496Z",
        "updated_at": "2025-12-26T14:18:43.300Z",
        "deleted_at": null,
        "order_type": "home",
        "coupon_guid": null,
        "slot_guid": "af74d846-8ac2-4205-ae5d-a79f68855054",
        "rewards_used": 0,
        "lab_location_id": "676a5fa720093d2807af03a5",
        "referal_doctor": null,
        "membership_id": null,
        "address_id": null,
        "total_orders": 27,
        "family_member_details": [
            {
                "family_member_id": "db682abb-31d1-44df-bf19-557b003a5c69",
                "product_details": [
                    {
                        "product_id": "675921b2ba6f16b8c0d7bed1",
                        "quantity": 1,
                        "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
                        "family_member_id": [
                            {
                                "guid": "db682abb-31d1-44df-bf19-557b003a5c69",
                                "family_member_name": "Self",
                                "relation": ""
                            }
                        ],
                        "location_id": "676a5fa720093d2807af03a5",
                        "isTestAvailable": true,
                        "home_collection": "AVAILABLE",
                        "_id": "675921b2ba6f16b8c0d7bed1",
                        "package_id": "675921b2ba6f16b8c0d7bed1",
                        "package_name": "Bone Profile -1",
                        "components": [
                            "CALCIUM - TOTAL",
                            "ALP(ALKALINE PHOSPHATASE)",
                            "PHOSPHORUS SERUM"
                        ],
                        "turn_around_time": null,
                        "specimen": "3 mL (2 mL min.) Serum from 1 SST. Ship refrigerated or frozen.",
                        "slug": "bone-profile-1",
                        "tests_included": [
                            "CALCIUM - TOTAL",
                            "ALP(ALKALINE PHOSPHATASE)",
                            "PHOSPHORUS SERUM"
                        ],
                        "stability": [
                            "ROOM = 2 HRS",
                            "REFRIGERATED = 48 HRS"
                        ],
                        "comment": "",
                        "usage": "This panel can help to investigate common bone and joint disorders Arthritis can be of various types mainly Rheumatoid arthritis, Osteoarthritis, Autoimmune disorders, Gout & Psoriatic arthritis.The laboratory testing helps to establish diagnosis and document the pathological process",
                        "locations": [
                            "64870066842708a0d5ae6c77",
                            "64870066842708a0d5ae6c74",
                            "676a5fa720093d2807af03a5",
                            "64870066842708a0d5ae6c75",
                            "67346a7655a51ec8ef586bb1",
                            "6781186b658e894bfeb119e9",
                            "68ecce703d573db19b650c76",
                            "68f78da1a5274a337d2d10f8"
                        ],
                        "department": [
                            "675697b0262d1460f8d55d3b"
                        ],
                        "doctor_speciality": [
                            "675697b0262d1460f8d55e5e",
                            "675697b0262d1460f8d55e56",
                            "675697b0262d1460f8d55e53"
                        ],
                        "test_method": [
                            "675697b0262d1460f8d55df2"
                        ],
                        "organ": [
                            
                        ],
                        "doctorsSpeciality": [
                            "675697b0262d1460f8d55e5e",
                            "675697b0262d1460f8d55e56",
                            "675697b0262d1460f8d55e53"
                        ],
                        "diseases": [
                            "675697b0262d1460f8d55e7e"
                        ],
                        "price": 650,
                        "original_price": 650,
                        "cpt_comment": "",
                        "cpt_price": 0,
                        "actual_cprt_price": 0,
                        "b2b_price": 180,
                        "popular": true,
                        "speciality_tests": false,
                        "frequently_booked": false,
                        "pre_test_information": "No special preparation required",
                        "business_type": [
                            "B2C"
                        ],
                        "status": "ACTIVE",
                        "createdAt": "2024-12-11T05:22:58.332Z",
                        "updatedAt": "2025-11-14T08:50:13.051Z",
                        "gender": [
                            "MALE",
                            "FEMALE"
                        ],
                        "description": "",
                        "full_body_checkup": false,
                        "tests_id_included": [
                            "675921110856fe1e1e992c1d",
                            "675921110856fe1e1e992bd7",
                            "675921110856fe1e1e992ce2"
                        ],
                        "frequently_asked_questions": [
                            
                        ],
                        "other_names": [
                            
                        ],
                        "result_interpretation": "",
                        "search_keywords": [
                            
                        ],
                        "index": 3,
                        "method": [
                            "675697b0262d1460f8d55df2"
                        ],
                        "product_code": "YDPK014",
                        "membership_price": 5000,
                        "membership_special_price": 999,
                        "membership_discount": 10,
                        "discount_rate": 585,
                        "discount_percentage": 0,
                        "rewards_percentage": "33",
                        "membershipPrice": 650,
                        "isTestPartOfPackage": false,
                        "packageIds": [
                            
                        ],
                        "isActive": true,
                        "is_pricing_applicable": true
                    }
                ]
            }
        ],
        "actual_delivery_fee": 250,
        "delivery_fee": 250,
        "total_benefit": 0,
        "totalBenefitIncludingMembership": 0,
        "unavailable_test": [
            
        ],
        "totalPrice": 900,
        "membershipDiscount": 0,
        "rewards_percentage": 5,
        "discount_rate": 10,
        "couponResult": {
            "discount": 0,
            "valid": false,
            "reason": ""
        },
        "discountPercentage": 0,
        "originalPrice": 650,
        "price": 650,
        "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
        "membershipPrice": 0
    }
}
{
    "status": 200,
    "success": true,
    "msg": "Cart details fetched successfully",
    "total_amount": 0,
    "data": {
        "id": 490,
        "guid": "bb89d801-01f3-4a57-9df0-a1be84bb12cd",
        "user_id": "db682abb-31d1-44df-bf19-557b003a5c69",
        "_user_id": null,
        "product_details": [
            {
                "product_id": "675921b2ba6f16b8c0d7bed1",
                "quantity": 1,
                "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
                "family_member_id": [
                    {
                        "guid": "db682abb-31d1-44df-bf19-557b003a5c69",
                        "family_member_name": "Self",
                        "relation": ""
                    }
                ],
                "location_id": "676a5fa720093d2807af03a5",
                "isTestAvailable": true,
                "home_collection": "AVAILABLE",
                "_id": "675921b2ba6f16b8c0d7bed1",
                "package_id": "675921b2ba6f16b8c0d7bed1",
                "package_name": "Bone Profile -1",
                "components": [
                    "CALCIUM - TOTAL",
                    "ALP(ALKALINE PHOSPHATASE)",
                    "PHOSPHORUS SERUM"
                ],
                "turn_around_time": null,
                "specimen": "3 mL (2 mL min.) Serum from 1 SST. Ship refrigerated or frozen.",
                "slug": "bone-profile-1",
                "tests_included": [
                    "CALCIUM - TOTAL",
                    "ALP(ALKALINE PHOSPHATASE)",
                    "PHOSPHORUS SERUM"
                ],
                "stability": [
                    "ROOM = 2 HRS",
                    "REFRIGERATED = 48 HRS"
                ],
                "comment": "",
                "usage": "This panel can help to investigate common bone and joint disorders Arthritis can be of various types mainly Rheumatoid arthritis, Osteoarthritis, Autoimmune disorders, Gout & Psoriatic arthritis.The laboratory testing helps to establish diagnosis and document the pathological process",
                "locations": [
                    "64870066842708a0d5ae6c77",
                    "64870066842708a0d5ae6c74",
                    "676a5fa720093d2807af03a5",
                    "64870066842708a0d5ae6c75",
                    "67346a7655a51ec8ef586bb1",
                    "6781186b658e894bfeb119e9",
                    "68ecce703d573db19b650c76",
                    "68f78da1a5274a337d2d10f8"
                ],
                "department": [
                    "675697b0262d1460f8d55d3b"
                ],
                "doctor_speciality": [
                    "675697b0262d1460f8d55e5e",
                    "675697b0262d1460f8d55e56",
                    "675697b0262d1460f8d55e53"
                ],
                "test_method": [
                    "675697b0262d1460f8d55df2"
                ],
                "organ": [
                    
                ],
                "doctorsSpeciality": [
                    "675697b0262d1460f8d55e5e",
                    "675697b0262d1460f8d55e56",
                    "675697b0262d1460f8d55e53"
                ],
                "diseases": [
                    "675697b0262d1460f8d55e7e"
                ],
                "price": 650,
                "original_price": 650,
                "cpt_comment": "",
                "cpt_price": 0,
                "actual_cprt_price": 0,
                "b2b_price": 180,
                "popular": true,
                "speciality_tests": false,
                "frequently_booked": false,
                "pre_test_information": "No special preparation required",
                "business_type": [
                    "B2C"
                ],
                "status": "ACTIVE",
                "createdAt": "2024-12-11T05:22:58.332Z",
                "updatedAt": "2025-11-14T08:50:13.051Z",
                "gender": [
                    "MALE",
                    "FEMALE"
                ],
                "description": "",
                "full_body_checkup": false,
                "tests_id_included": [
                    "675921110856fe1e1e992c1d",
                    "675921110856fe1e1e992bd7",
                    "675921110856fe1e1e992ce2"
                ],
                "frequently_asked_questions": [
                    
                ],
                "other_names": [
                    
                ],
                "result_interpretation": "",
                "search_keywords": [
                    
                ],
                "index": 3,
                "method": [
                    "675697b0262d1460f8d55df2"
                ],
                "product_code": "YDPK014",
                "membership_price": 5000,
                "membership_special_price": 999,
                "membership_discount": 10,
                "discount_rate": 585,
                "discount_percentage": 0,
                "rewards_percentage": "33",
                "membershipPrice": 650,
                "isTestPartOfPackage": false,
                "packageIds": [
                    
                ],
                "isActive": true,
                "is_pricing_applicable": true
            }
        ],
        "screen_reason": "lab_location_screen",
        "conversion_status": "no",
        "reason_for_drop_order": null,
        "final_cart_status": "open",
        "reason": null,
        "created_at": "2025-12-01T14:08:26.496Z",
        "updated_at": "2025-12-26T14:18:43.300Z",
        "deleted_at": null,
        "order_type": "home",
        "coupon_guid": null,
        "slot_guid": "af74d846-8ac2-4205-ae5d-a79f68855054",
        "rewards_used": 0,
        "lab_location_id": "676a5fa720093d2807af03a5",
        "referal_doctor": null,
        "membership_id": null,
        "address_id": null,
        "total_orders": 27,
        "family_member_details": [
            {
                "family_member_id": "db682abb-31d1-44df-bf19-557b003a5c69",
                "product_details": [
                    {
                        "product_id": "675921b2ba6f16b8c0d7bed1",
                        "quantity": 1,
                        "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
                        "family_member_id": [
                            {
                                "guid": "db682abb-31d1-44df-bf19-557b003a5c69",
                                "family_member_name": "Self",
                                "relation": ""
                            }
                        ],
                        "location_id": "676a5fa720093d2807af03a5",
                        "isTestAvailable": true,
                        "home_collection": "AVAILABLE",
                        "_id": "675921b2ba6f16b8c0d7bed1",
                        "package_id": "675921b2ba6f16b8c0d7bed1",
                        "package_name": "Bone Profile -1",
                        "components": [
                            "CALCIUM - TOTAL",
                            "ALP(ALKALINE PHOSPHATASE)",
                            "PHOSPHORUS SERUM"
                        ],
                        "turn_around_time": null,
                        "specimen": "3 mL (2 mL min.) Serum from 1 SST. Ship refrigerated or frozen.",
                        "slug": "bone-profile-1",
                        "tests_included": [
                            "CALCIUM - TOTAL",
                            "ALP(ALKALINE PHOSPHATASE)",
                            "PHOSPHORUS SERUM"
                        ],
                        "stability": [
                            "ROOM = 2 HRS",
                            "REFRIGERATED = 48 HRS"
                        ],
                        "comment": "",
                        "usage": "This panel can help to investigate common bone and joint disorders Arthritis can be of various types mainly Rheumatoid arthritis, Osteoarthritis, Autoimmune disorders, Gout & Psoriatic arthritis.The laboratory testing helps to establish diagnosis and document the pathological process",
                        "locations": [
                            "64870066842708a0d5ae6c77",
                            "64870066842708a0d5ae6c74",
                            "676a5fa720093d2807af03a5",
                            "64870066842708a0d5ae6c75",
                            "67346a7655a51ec8ef586bb1",
                            "6781186b658e894bfeb119e9",
                            "68ecce703d573db19b650c76",
                            "68f78da1a5274a337d2d10f8"
                        ],
                        "department": [
                            "675697b0262d1460f8d55d3b"
                        ],
                        "doctor_speciality": [
                            "675697b0262d1460f8d55e5e",
                            "675697b0262d1460f8d55e56",
                            "675697b0262d1460f8d55e53"
                        ],
                        "test_method": [
                            "675697b0262d1460f8d55df2"
                        ],
                        "organ": [
                            
                        ],
                        "doctorsSpeciality": [
                            "675697b0262d1460f8d55e5e",
                            "675697b0262d1460f8d55e56",
                            "675697b0262d1460f8d55e53"
                        ],
                        "diseases": [
                            "675697b0262d1460f8d55e7e"
                        ],
                        "price": 650,
                        "original_price": 650,
                        "cpt_comment": "",
                        "cpt_price": 0,
                        "actual_cprt_price": 0,
                        "b2b_price": 180,
                        "popular": true,
                        "speciality_tests": false,
                        "frequently_booked": false,
                        "pre_test_information": "No special preparation required",
                        "business_type": [
                            "B2C"
                        ],
                        "status": "ACTIVE",
                        "createdAt": "2024-12-11T05:22:58.332Z",
                        "updatedAt": "2025-11-14T08:50:13.051Z",
                        "gender": [
                            "MALE",
                            "FEMALE"
                        ],
                        "description": "",
                        "full_body_checkup": false,
                        "tests_id_included": [
                            "675921110856fe1e1e992c1d",
                            "675921110856fe1e1e992bd7",
                            "675921110856fe1e1e992ce2"
                        ],
                        "frequently_asked_questions": [
                            
                        ],
                        "other_names": [
                            
                        ],
                        "result_interpretation": "",
                        "search_keywords": [
                            
                        ],
                        "index": 3,
                        "method": [
                            "675697b0262d1460f8d55df2"
                        ],
                        "product_code": "YDPK014",
                        "membership_price": 5000,
                        "membership_special_price": 999,
                        "membership_discount": 10,
                        "discount_rate": 585,
                        "discount_percentage": 0,
                        "rewards_percentage": "33",
                        "membershipPrice": 650,
                        "isTestPartOfPackage": false,
                        "packageIds": [
                            
                        ],
                        "isActive": true,
                        "is_pricing_applicable": true
                    }
                ]
            }
        ],
        "actual_delivery_fee": 250,
        "delivery_fee": 250,
        "total_benefit": 0,
        "totalBenefitIncludingMembership": 0,
        "unavailable_test": [
            
        ],
        "totalPrice": 900,
        "membershipDiscount": 0,
        "rewards_percentage": 5,
        "discount_rate": 10,
        "couponResult": {
            "discount": 0,
            "valid": false,
            "reason": ""
        },
        "discountPercentage": 0,
        "originalPrice": 650,
        "price": 650,
        "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
        "membershipPrice": 0
    }
}
=====================================================


? STEP 1: Validating API Response
   ? Success flag: true
   ? Response message: Cart details fetched successfully

? STEP 2: Validating Cart Basic Fields
   ? Cart GUID: bb89d801-01f3-4a57-9df0-a1be84bb12cd
   ? Cart ID: 490
   ? User ID: db682abb-31d1-44df-bf19-557b003a5c69
   ? Lab Location ID: 676a5fa720093d2807af03a5
   ? Total Price (from data.totalPrice): ?900
   ? Cart Status: open
   ? Order Type: home

? STEP 3: Comparing with Add to Cart Response
   ? Cart GUID matches Add to Cart: bb89d801-01f3-4a57-9df0-a1be84bb12cd
   ? Cart ID matches Add to Cart: 490
   ??  AddToCart total_amount: ?0 (not calculated)
   ??  GetCartById totalPrice: ?900 (calculated with delivery fees)
   ? Total amounts validated (different APIs use different calculation logic)

? STEP 4: Validating Cart Items
   ? Total items in cart: 1

? STEP 4.1: Validating Home Collection Availability
   Since order_type=home, all tests in cart MUST have home_collection = true

? STEP 5: Validating Each Cart Item
   Using response field: data.product_details

   ????? Item 1 Validation ?????
   ? Product ID: 675921b2ba6f16b8c0d7bed1
   ? Test Name: Bone Profile 1
   ? Price: ?650
   ? Quantity: 1
   ? Brand ID matches BrandAPI: efb159ac-db7c-4b06-a79b-021a8b6d67e8 = efb159ac-db7c-4b06-a79b-021a8b6d67e8
   ? Location ID matches LocationAPI: 676a5fa720093d2807af03a5 = 676a5fa720093d2807af03a5

   ? Cross-validating with stored test data...
   ? Found matching stored test: Bone Profile 1
   ? Product ID matches: 675921b2ba6f16b8c0d7bed1
   ? Home Collection: true (Value: AVAILABLE)
   ? Test supports home collection (VALID for home order)
   ? Price matches: ?650
   ? Test type: diagnostics
   ? Test status: ACTIVE

? ========================================
   HOME COLLECTION VALIDATION SUMMARY
   ========================================
   Total tests in cart: 1
   Tests with home collection: 1
   Tests WITHOUT home collection: 0
   ? ALL VALIDATED TESTS SUPPORT HOME COLLECTION
   ========================================


? STEP 6: Comprehensive Business Rules & Total Calculation
   Applying business logic: Home Collection Charges, Membership Discount, Unavailable Tests

   ???????????????????????????????????????
   ? TOTAL CALCULATION SUMMARY
   ???????????????????????????????????????
   Items Subtotal: ?650
   Home Collection Charge: ?250
   Manual Total: ?900
   API Total: ?900
   ? TOTAL VERIFICATION PASSED!
   ???????????????????????????????????????


????????????????????????????????????????????????????????????
?     ADD ADDRESS API ù EXISTING MEMBER                    ?
????????????????????????????????????????????????????????????

? Using Location: Madhapur
? User: Ranjith kumar
? Mobile: 8220220227

? ADD ADDRESS REQUEST:
User ID: db682abb-31d1-44df-bf19-557b003a5c69
Receiver Name: Ranjith kumar
Mobile: 8220220227
Address Line 1: Hyderabad
Name (Road/Area): Madhapur
Type: home
Country Code: +91
City: Hyderabad
State: Telangana
Country: India
Postal Code: 500033
Coordinates: Lat=17.4406327, Long=78.3900194
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/address/addAddress
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "country": "India",
    "city": "Hyderabad",
    "recipient_mobile_number": "8220220227",
    "latitude": "17.4406327",
    "type": "home",
    "country_code": "+91",
    "user_id": "db682abb-31d1-44df-bf19-557b003a5c69",
    "address_line1": "Hyderabad",
    "name": "Madhapur",
    "receiver_name": "Ranjith kumar",
    "state": "Telangana",
    "postal_code": "500033",
    "longitude": "78.3900194"
}
??  Address already exists (HTTP 409) - Skipping validation

????????????????????????????????????????????????????????????
?     GET ADDRESS BY USER ID API ù EXISTING MEMBER         ?
????????????????????????????????????????????????????????????

? GET ADDRESS BY USER ID REQUEST:
   User ID: db682abb-31d1-44df-bf19-557b003a5c69
Request method:	GET
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/address/getAddressByUserId/db682abb-31d1-44df-bf19-557b003a5c69
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>
   ? HTTP Status: 200

??????????????????????????????????????????????????????????????
?     COMPREHENSIVE GET ADDRESS VALIDATION - NON_MEMBER
??????????????????????????????????????????????????????????????

? STEP 1: Validating API Response
   ? Success flag: true
   ? Response message: null

? STEP 2: Extracting Addresses
   ? Total addresses found: 2

? STEP 3: Extracting and Storing Address ID (guid)
   ? Address GUID extracted: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
   ? Stored in RequestContext as NON_MEMBER address_id

? STEP 4: Validating Address Details

   ????? Address 1 ?????
   ? GUID: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
   ? User ID: db682abb-31d1-44df-bf19-557b003a5c69
   ? Receiver Name: Ranjith kumar
   ? Mobile: 8220220227
   ? Address Line 1: Hyderabad
   ? Name (Area): Madhapur
   ? City: Hyderabad
   ? State: Telangana
   ? Postal Code: 500033
   ? Type: home
   ? Coordinates: Lat=17.4406327, Long=78.3900194

   ????? Address 2 ?????
   ? GUID: cf11587a-95c1-4c3d-a670-f21712b94fcc
   ? User ID: db682abb-31d1-44df-bf19-557b003a5c69
   ? Receiver Name: Ranjith kumar
   ? Mobile: 8220220227
   ? Address Line 1: Guntur
   ? Name (Area): Office
   ? City: Guntur
   ? State: Andhra Pradesh
   ? Postal Code: 522001
   ? Type: office
   ? Coordinates: Lat=16.2992859, Long=80.4515523

? ========================================
   ADDRESS VALIDATION SUMMARY
   ========================================
   Total addresses: 2
   Address ID (guid) stored: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
   User Type: NON_MEMBER
   ? ALL ADDRESSES VALIDATED SUCCESSFULLY
   ========================================


========================================
ALL GET ADDRESS VALIDATIONS PASSED FOR NON_MEMBER
========================================
Address ID (guid): 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
Total Addresses: 2
========================================


????????????????????????????????????????????????????????????
?     GET CENTERS BY ADD API ù EXISTING MEMBER             ?
????????????????????????????????????????????????????????????

? Using Address ID from GetAddressByUserId API: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
? Using Lab ID (Location ID) from Location API: 676a5fa720093d2807af03a5

? GET CENTERS BY ADD REQUEST:
   Address ID: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
   Lab ID: 676a5fa720093d2807af03a5
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/slot/getCentersByadd
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "lab_id": "676a5fa720093d2807af03a5",
    "addressid": "99cfd160-72e2-4fcf-b2f4-56e5bbb49fea"
}
   ? HTTP Status: 200

??????????????????????????????????????????????????????????????
?     COMPREHENSIVE GET CENTERS VALIDATION - NON_MEMBER
??????????????????????????????????????????????????????????????

? STEP 1: Validating API Response
   ? Success flag: true
   ? Message: Valid Location
   ? Location validated successfully!

? STEP 2: Validating Center Details
   ??  No center details in response (validation only)

? STEP 3: Cross-validating with Request Payload
   ? Sent Address ID: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
   ? Sent Lab ID: 676a5fa720093d2807af03a5
   ? Payload validated against response

? ========================================
   CENTERS BY ADDRESS VALIDATION SUMMARY
   ========================================
   Message: Valid Location
   Address ID: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
   Lab ID: 676a5fa720093d2807af03a5
   ? ALL VALIDATIONS PASSED
   ========================================


========================================
ALL GET CENTERS VALIDATIONS PASSED FOR NON_MEMBER
========================================
Message: Valid Location
Address ID: 99cfd160-72e2-4fcf-b2f4-56e5bbb49fea
Lab ID: 676a5fa720093d2807af03a5
========================================


? SEARCHING FOR AVAILABLE SLOTS FOR NON_MEMBER
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/slot/getSlotCountByTime
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "slot_start_time": "2025-12-26",
    "limit": 100,
    "page": 1,
    "type": "home",
    "addressguid": "99cfd160-72e2-4fcf-b2f4-56e5bbb49fea"
}
   ? Found Slot: 2025-12-26 2025-12-26 21:00:00 - 2025-12-26 22:00:00

? UPDATING CART WITH SLOT FOR NON_MEMBER
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/carts/v2/addCart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "user_id": "db682abb-31d1-44df-bf19-557b003a5c69",
    "slot_guid": "af74d846-8ac2-4205-ae5d-a79f68855054",
    "lab_location_id": "676a5fa720093d2807af03a5",
    "product_details": [
        {
            "quantity": 1,
            "product_id": "675921b2ba6f16b8c0d7bed1",
            "type": "home",
            "location_id": "676a5fa720093d2807af03a5",
            "brand_id": "efb159ac-db7c-4b06-a79b-021a8b6d67e8",
            "family_member_id": [
                "db682abb-31d1-44df-bf19-557b003a5c69"
            ]
        }
    ]
}
   ? Cart Updated with Slot. Cart GUID: bb89d801-01f3-4a57-9df0-a1be84bb12cd

????????????????????????????????????????????????????????????
?     CREATE ORDER API ù EXISTING MEMBER                   ?
????????????????????????????????????????????????????????????

? CREATE ORDER REQUEST:
   Cart ID: bb89d801-01f3-4a57-9df0-a1be84bb12cd
   User ID: db682abb-31d1-44df-bf19-557b003a5c69
   Payment Mode: online
   Total Amount: 0
Request method:	POST
Request URI:	https://dev-api-yodadiagnostics.yodaprojects.com/gateway/v2/CreateOrder
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyR3VpZCI6ImRiNjgyYWJiLTMxZDEtNDRkZi1iZjE5LTU1N2IwMDNhNWM2OSIsIm1vYmlsZSI6Ijk2NjY2NjY2NjUiLCJmaXJzdF9uYW1lIjoiUmFuaml0aCIsImxhc3RfbmFtZSI6Imt1bWFyIiwiZW1haWwiOiIiLCJyb2xlIjoidXNlcl9vbmx5IiwiaWF0IjoxNzY2NzU4NzE4LCJleHAiOjE3ODI1NDQ5NTh9.HYUaVMTL4sQlqZWb4JOEsDUokkiN4AM7HpBcRI4Bn_Y
				Accept=*/*
				Content-Type=application/json
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "date": "2025-12-27",
    "cart_id": "bb89d801-01f3-4a57-9df0-a1be84bb12cd",
    "payment_mode": "online",
    "user_id": "db682abb-31d1-44df-bf19-557b003a5c69",
    "total_amount": 0,
    "slot_id": "af74d846-8ac2-4205-ae5d-a79f68855054",
    "address_id": "99cfd160-72e2-4fcf-b2f4-56e5bbb49fea",
    "lab_location_id": "676a5fa720093d2807af03a5",
    "source": "android",
    "time": "2025-12-26 21:00:00 - 2025-12-26 22:00:00"
}

??????????????????????????????????????????????????????????????
?     CREATE ORDER VALIDATION - NON_MEMBER
??????????????????????????????????????????????????????????????

? ====== CREATE ORDER API RESPONSE ======
{
    "status": 200,
    "success": true,
    "msg": "Order Created Successfully",
    "total_amount": 0,
    "data": {
        "amount": 90000,
        "amount_due": 90000,
        "amount_paid": 0,
        "attempts": 0,
        "created_at": 1766758725,
        "currency": "INR",
        "entity": "order",
        "id": "order_RwGpLvHDwlzcLe",
        "notes": {
            "mobile": "9666666665",
            "slot_guid": "af74d846-8ac2-4205-ae5d-a79f68855054",
            "user_id": "db682abb-31d1-44df-bf19-557b003a5c69"
        },
        "offer_id": null,
        "receipt": "rcpt_1766758725555",
        "status": "created",
        "guid": "e0288031-bff2-480c-a59f-e9edbe1e61aa",
        "mobile": "9666666665",
        "key_id": "rzp_test_RPN3ukEkrXYo4b"
    }
}
{
    "status": 200,
    "success": true,
    "msg": "Order Created Successfully",
    "total_amount": 0,
    "data": {
        "amount": 90000,
        "amount_due": 90000,
        "amount_paid": 0,
        "attempts": 0,
        "created_at": 1766758725,
        "currency": "INR",
        "entity": "order",
        "id": "order_RwGpLvHDwlzcLe",
        "notes": {
            "mobile": "9666666665",
            "slot_guid": "af74d846-8ac2-4205-ae5d-a79f68855054",
            "user_id": "db682abb-31d1-44df-bf19-557b003a5c69"
        },
        "offer_id": null,
        "receipt": "rcpt_1766758725555",
        "status": "created",
        "guid": "e0288031-bff2-480c-a59f-e9edbe1e61aa",
        "mobile": "9666666665",
        "key_id": "rzp_test_RPN3ukEkrXYo4b"
    }
}
==========================================

   ? Success flag: true
   ? Response message: Order Created Successfully
   ? Order ID created: order_RwGpLvHDwlzcLe
   ? Order Amount: null

========================================
ALL CREATE ORDER VALIDATIONS PASSED FOR NON_MEMBER
========================================

[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.38 s -- in TestSuite
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  25.493 s
[INFO] Finished at: 2025-12-26T19:48:46+05:30
[INFO] ------------------------------------------------------------------------
